{% load i18n static account socialaccount %}
{% load crispy_forms_tags %} {# crispy_forms ì“°ë©´ ìë™ ë¶€íŠ¸ìŠ¤íŠ¸ë© ì ìš© (#ì—†ì–´ë„ ë™ì‘) #}
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ë¡œê·¸ì¸ - ITSW</title>
  <link rel="stylesheet" href="{% static 'blog/bootstrap/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'blog/custom_css/custom.css' %}">
  <style>
    .auth-wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;background:#f7f7f9}
    .auth-card{max-width:880px;width:100%;border:0;border-radius:18px;box-shadow:0 20px 60px rgba(0,0,0,.08)}
    .brand{font-weight:800;letter-spacing:.5px}
    .side-hero{background:linear-gradient(135deg,#4f46e5,#22c55e);color:#fff;border-radius:18px 0 0 18px}
    .side-hero .caption{opacity:.9}
    .btn-google{border:1px solid #ccc; background:#fff}
    .muted{color:#6b7280}
    .form-text a{color:#4f46e5}
    .divider{display:flex;align-items:center;gap:12px;margin:16px 0}
    .divider:before,.divider:after{content:"";flex:1;height:1px;background:#e5e7eb}
    .avatar-hero{width:72px;height:72px;border-radius:50%;background:rgba(255,255,255,.25);display:flex;align-items:center;justify-content:center}
  </style>
</head>
<body>
  {% include 'blog/navbar.html' %}

  <div class="auth-wrap py-5">
    <div class="container">
      <div class="row no-gutters justify-content-center">
        <div class="col-lg-10">
          <div class="auth-card bg-white overflow-hidden">
            <div class="row no-gutters">
              <!-- ì¢Œì¸¡ í™ë³´/ë¸Œëœë“œ -->
              <div class="col-md-5 p-4 p-md-5 side-hero d-flex flex-column justify-content-between">
                <div>
                  <div class="avatar-hero mb-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="34" height="34" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20l9-9-9 9z"/><path d="M12 12l9 9"/></svg>
                  </div>
                  <h3 class="mb-2">ITSW ê³„ì • ë¡œê·¸ì¸</h3>
                  <p class="caption">ë¸”ë¡œê·¸ ê¸€ ì‘ì„±, ëŒ“ê¸€, í”„ë¡œí•„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¡œê·¸ì¸í•˜ì„¸ìš”.</p>
                </div>
                <p class="mb-0 small">Â© {{ now|date:"Y" }} ITSW</p>
              </div>

              <!-- ìš°ì¸¡ ì‹¤ì œ ë¡œê·¸ì¸ -->
              <div class="col-md-7 p-4 p-md-5">
                <div class="d-flex justify-content-between align-items-center mb-3">
                  <div class="brand h5 mb-0">Welcome back ğŸ‘‹</div>
                </div>

                {# ë©”ì‹œì§€ í‘œì‹œ #}
                {% if messages %}
                  <div class="mb-3">
                    {% for message in messages %}
                      <div class="alert alert-{{ message.tags|default:'info' }} mb-2">{{ message }}</div>
                    {% endfor %}
                  </div>
                {% endif %}

                <form method="post" action="{% url 'account_login' %}" novalidate>
                  {% csrf_token %}
                  {# crispyê°€ ìˆìœ¼ë©´ ì•„ë˜ 1ì¤„, ì—†ìœ¼ë©´ ê° í•„ë“œ ìˆ˜ë™ ë Œë”ë§ #}
                  {% if form|length %}{{ form|crispy }}{% else %}{{ form.as_p }}{% endif %}

                  <div class="d-flex justify-content-between align-items-center mt-2">
                    <div class="form-text muted">
                      <a href="{% url 'account_reset_password' %}">ë¹„ë°€ë²ˆí˜¸ ì°¾ê¸°</a>
                    </div>
                    <button type="submit" class="btn btn-primary px-4">ë¡œê·¸ì¸</button>
                  </div>
                </form>

                <div class="divider"><span class="muted small">ë˜ëŠ”</span></div>

                <!-- ì†Œì…œ ë¡œê·¸ì¸(ì˜ˆ: Google) -->
                {% providers_media_js %}
                <a class="btn btn-google btn-block py-2 mb-2" href="{% provider_login_url 'google' %}">
                  <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" width="18" class="mr-2" alt=""> Googleë¡œ ê³„ì†í•˜ê¸°
                </a>

                <p class="mt-3 muted">
                  ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”?
                  <a href="{% url 'account_signup' %}">íšŒì›ê°€ì…</a>
                </p>
              </div>
            </div>
          </div> <!-- /card -->
        </div>
      </div>
    </div>
  </div>

  {% include 'blog/footer.html' %}
  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
