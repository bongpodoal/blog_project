<!DOCTYPE html>
{% load static %}
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>Coding Mate</title>

  <link rel="stylesheet" href="{% static 'blog/bootstrap/bootstrap.min.css' %}">
  <link rel="stylesheet" href="{% static 'single_pages/css/landing.css' %}?v=20250928"><!-- 캐시 무효화 -->
  <script src="https://kit.fontawesome.com/f9efb38e62.js" crossorigin="anonymous"></script>

  <style>
    /* ===== 강제 덮어쓰기 ===== */
    body{ background:#0b1027!important; background-image:none!important; }
    section{ background-image:none!important; }

    :root{
      --brand-bg:#0c1432;
      --brand-grad-1:rgba(22,29,65,.55);
      --brand-grad-2:rgba(46,14,84,.55);
      --brand-accent:#6ea8ff;
      --brand-accent-2:#a78bfa;
      --text-hero:#f6f7fb;
      --text-dim:rgba(255,255,255,.8);
      --glass-bg:rgba(255,255,255,.08);
      --glass-brd:rgba(255,255,255,.18);
      --glass-shadow:rgba(6,12,34,.45);
    }

    .hero{
      position:relative; min-height:62vh; display:flex; align-items:center;
      color:var(--text-hero); overflow:hidden; border-bottom-left-radius:28px;
      border-bottom-right-radius:28px; background:var(--brand-bg); isolation:isolate;
    }
    .hero::before{
      content:""; position:absolute; inset:0;
      background:url("{% static 'single_pages/images/img-20250928.jpg' %}?v=20250928")
                 center/cover no-repeat fixed !important;
      transform:scale(1.03);
      filter:brightness(.58) saturate(1.05) contrast(1.02);
      z-index:-2;
    }
    .hero::after{
      content:""; position:absolute; inset:0;
      background:
        radial-gradient(1200px 600px at 10% 10%, var(--brand-grad-2), transparent 55%),
        linear-gradient(180deg, var(--brand-grad-1), rgba(6,10,30,.65) 55%, rgba(6,10,30,.85));
      z-index:-1; mix-blend-mode:soft-light;
    }
    .hero .badge{ background:rgba(255,255,255,.12); color:var(--text-hero);
      border:1px solid rgba(255,255,255,.22); margin:0 .5rem .5rem 0; backdrop-filter:blur(4px); }
    .btn-hero{ color:#fff; border-color:rgba(255,255,255,.45);
      background:linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,.05));
      backdrop-filter:blur(6px); }
    .btn-hero:hover{ border-color:#fff; background:rgba(255,255,255,.22); color:#fff; }
    .btn-hero-outline{ color:var(--text-hero); border-color:rgba(255,255,255,.35); background:transparent; }
    .btn-hero-outline:hover{ border-color:#fff; background:rgba(255,255,255,.12); color:#fff; }

    .section-pad{ padding:2.5rem 0; }
    .section-title h4{ margin:0; }

    .post-card{
      border-radius:16px; border:1px solid var(--glass-brd); background:var(--glass-bg);
      box-shadow:0 .8rem 2rem var(--glass-shadow);
      transition:transform .16s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
      height:100%; backdrop-filter:blur(8px);
    }
    .post-card:hover{
      transform:translateY(-2px); background:rgba(255,255,255,.12);
      border-color:rgba(255,255,255,.28); box-shadow:0 1rem 2.2rem rgba(6,12,34,.6);
    }
    .post-card .card-body{ color:#eef1ff; }
    .post-card .card-footer{ background:transparent; border:0; }
    .post-link{ color:#f2f4ff; text-decoration:none; }
    .post-link:hover{ color:#fff; text-decoration:underline; }

    .post-meta{ font-size:.86rem; color:var(--text-dim); }
    .avatar-20{ width:20px; height:20px; object-fit:cover; border-radius:50%; }

    .btn-read{ border-color:var(--brand-accent); color:#e9efff; }
    .btn-read:hover{ background:var(--brand-accent); color:#081225; }

    @media (max-width:991.98px){ .hero{ min-height:56vh; } }
  </style>
</head>
<body>

{% include 'blog/navbar.html' %}

<header class="hero mb-4">
  <div class="container hero-content">
    <div class="row">
      <div class="col-lg-8 col-xl-7">
        <h1 class="display-4 font-weight-bold mb-3">Coding Hub</h1>
        <p class="lead mb-4" style="color:var(--text-dim);">본인이 한 코딩을 자유롭게 자랑하는 공간입니다</p>
        <div class="d-flex flex-wrap mb-4">
          <span class="badge badge-pill">Python</span>
          <span class="badge badge-pill">Django</span>
          <span class="badge badge-pill">Web</span>
          <span class="badge badge-pill">Community</span>
        </div>
        <a href="/blog/" class="btn btn-hero btn-lg mr-2"><i class="fas fa-book-open mr-1"></i> 블로그로 가기</a>
        <a href="/about_me/" class="btn btn-hero-outline btn-lg"><i class="fas fa-user mr-1"></i> About</a>
      </div>
    </div>
  </div>
</header>

<section class="section-pad" style="background:linear-gradient(180deg, rgba(6,10,30,.88), #0b1027);">
  <div class="container">
    <div class="section-title d-flex align-items-center mb-3">
      <h4 class="text-light">최근 게시물</h4>
      <a href="/blog/" class="ml-auto small text-decoration-none" style="color:var(--brand-accent-2);">
        전체 보기 <i class="fas fa-chevron-right fa-xs"></i>
      </a>
    </div>

    <div class="row">
      {% for post in recent_posts|slice:":6" %}
        <div class="col-md-6 col-lg-4 mb-4">
          <article class="card post-card">
            <div class="card-body">
              <h6 class="mb-2" style="min-height:3.1em; line-height:1.55;">
                <a href="{{ post.get_absolute_url }}" class="post-link">{{ post.title }}</a>
              </h6>

              <div class="post-meta d-flex align-items-center">
                {# 작성자 아바타: 소셜 > 프로필 > 기본 이미지 #}
                {% with sa=post.author.socialaccount_set.all.0 prof=post.author.profile_set.first %}
                  {% if sa and sa.get_avatar_url %}
                    <img class="avatar-20 mr-2" src="{{ sa.get_avatar_url }}" alt="{{ post.author.username }}">
                  {% elif prof and prof.profile_image %}
                    <img class="avatar-20 mr-2" src="{{ prof.profile_image.url }}" alt="{{ post.author.username }}">
                  {% else %}
                    <img class="avatar-20 mr-2" src="/media/profile/default-avatar.png" alt="{{ post.author.username }}">
                  {% endif %}
                {% endwith %}

                <span>{{ post.author.username }}</span>
                <span class="mx-2">·</span>
                <time datetime="{{ post.created_at|date:'c' }}">{{ post.created_at|date:"Y.m.d H:i" }}</time>
              </div>
            </div>

            <div class="card-footer pt-0 pb-3 px-3 text-right">
              <a href="{{ post.get_absolute_url }}" class="btn btn-outline-primary btn-sm btn-read">읽기</a>
            </div>
          </article>
        </div>
      {% empty %}
        <div class="col-12 text-muted text-light">표시할 게시물이 아직 없습니다.</div>
      {% endfor %}
    </div>
  </div>
</section>

<div class="fixed-bottom">
  {% include 'blog/footer.html' %}
</div>

<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" crossorigin="anonymous"></script>
</body>
</html>
